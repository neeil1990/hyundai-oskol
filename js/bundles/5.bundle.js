webpackJsonp([5],{"/Vu4":function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,'.td-form{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:#fff;color:#000}.td-form__title{width:70%;margin:0 auto;text-align:center;margin-bottom:48px}.td-form__center,.td-form__left,.td-form__right{width:33.33%}.td-form__left{padding-right:16px}.td-form__center,.td-form__right{padding-left:16px}.td-form__center{padding-right:16px}.td-form__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;margin-top:50px}.td-form__img{margin-top:56px;margin-bottom:32px}.td-form__img img{display:block;max-width:100%;max-height:248px;margin:0 auto}.td-form__label{font-weight:500;margin:0;font-size:2rem;line-height:1.2;margin-bottom:32px}.td-form__dropdown,.td-form__input{margin-bottom:24px;-webkit-transition:.3s;transition:.3s}.td-form__map{text-align:right;margin-top:-8px;margin-bottom:17px}.td-form__map a{display:inline-block;position:relative;font-weight:500;font-size:1.2rem;line-height:1.5;padding-left:24px;color:#002c5f}.td-form__map a,.td-form__map a span,.td-form__map a svg{-webkit-transition:.3s;transition:.3s}.td-form__map a svg{display:block;position:absolute;width:16px;height:15px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:0;stroke:#002c5f}.td-form__map a:hover span{opacity:.8}.td-form__map a:hover svg{stroke:#00aad2}.td-form__accept{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.td-form__accept input{display:none}.td-form__accept input:checked+.td-form__box svg{-webkit-transform:scale(1);transform:scale(1)}.td-form__accept input.invalid+.td-form__box{border-color:#c70e0e}.td-form__box{position:relative;-webkit-box-flex:0;-ms-flex:none;flex:none;width:24px;height:24px;border:1px solid #e4dcd3;margin-right:16px;cursor:pointer}.td-form__box,.td-form__box svg{-webkit-transition:.3s;transition:.3s}.td-form__box svg{display:block;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;-webkit-transform:scale(0);transform:scale(0)}.td-form__description{font-size:1.4rem;line-height:1.14}.td-form__description a{color:#00aad2}.td-form__list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:36px}.td-form__item:not(:last-of-type){margin-right:36px}.appeal{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;margin:0}.appeal input{display:none}.appeal input:checked+.appeal__circle:after{-webkit-transform:scale(1);transform:scale(1)}.appeal__circle{position:relative;width:24px;height:24px;border:1px solid #e4dcd3;border-radius:50%;cursor:pointer;margin-right:16px}.appeal__circle:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:12px;height:12px;border-radius:50%;background-color:#103a71;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:.3s;transition:.3s}.appeal__description{font-size:1.6rem;line-height:1.5}@media only screen and (max-width:1262px){.td-form{display:block}.td-form__title{width:100%;margin-bottom:53px}.td-form__center,.td-form__left,.td-form__right{width:100%;padding:0}.td-form__info{text-align:right;margin-bottom:32px}.td-form__right{padding-top:20px}.td-form__footer{display:block;margin-top:0}.td-form__button{margin-top:40px;width:100%;text-align:center}}@media only screen and (max-width:767px){.td-form__title{margin-bottom:33px}.td-form__label{font-size:16px;margin-bottom:20px}.td-form__label--dealer{margin-top:32px}.td-form__item:not(:last-of-type){margin-right:11px}.td-form__list{margin-bottom:32px}.appeal__circle{margin-right:6px}}',""])},"4ZOK":function(e,t,i){var a=i("VU/8")(i("LBlk"),i("IvxV"),function(e){i("I9cP")},null,null);e.exports=a.exports},"5fxu":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("FSqb"),o=i.n(a),n=i("NYxO"),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.default={name:"SignUpTestDriveFormPopup",components:{SignUpForms:o.a},props:["page","noDefaultCar"],data:function(){return{}},computed:s({},Object(n.b)({isOpened:"OPEN_TEST_DRIVE_POPUP"})),methods:{closeThis:function(){this.$store.dispatch("OPEN_TEST_DRIVE_POPUP",!1)},onEnter:function(){this.$root.$emit("fixOverflow",!0)},onLeave:function(){this.$root.$emit("fixOverflow",!1)}},mounted:function(){this.$nextTick(function(){})}}},"70+0":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"popup"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"success df-popup"},[i("div",{staticClass:"df-popup__wrap",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeSuccess(t)}}},[i("div",{staticClass:"success__center df-popup__center"},[i("a",{staticClass:"success__close df-popup__close",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.closeSuccess(t)}}},[i("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{attrs:{y:"14.5454",width:"20.5702",height:"2.05702",transform:"rotate(-45 0 14.5454)"}}),e._v(" "),i("rect",{attrs:{x:"1.45459",width:"20.5702",height:"2.05702",transform:"rotate(45 1.45459 0)"}})])]),e._v(" "),i("h3",{staticClass:"success__title"},[e._v("Ваша заявка успешно отправлена!")]),e._v(" "),i("div",{staticClass:"success__icon"},[i("svg",{attrs:{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("circle",{attrs:{cx:"28",cy:"28",r:"27",stroke:"#666666","stroke-width":"2"}}),e._v(" "),i("path",{attrs:{d:"M16 29L24.5 37.5L40.5 18",stroke:"#666666","stroke-width":"2"}})])]),e._v(" "),i("div",{staticClass:"success__text"},[e._v("\n\t\t\t\t\tНаш менеджер свяжется с Вами в ближайшее время по указанному телефону "),i("span",[e._v(e._s(e.phone))])])])])])])},staticRenderFns:[]}},ExO8:function(e,t,i){var a=i("gl2g");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("af056eb4",a,!0,{})},FSqb:function(e,t,i){var a=i("VU/8")(i("l5+B"),i("b/D/"),function(e){i("ExO8")},null,null);e.exports=a.exports},G1eo:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,'.c-find-dealer{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);z-index:1000;overflow:auto}.c-find-dealer__wrap{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:100vh}.c-find-dealer__center{position:relative;width:100%;max-width:1008px;margin:0 40px;height:600px;background-color:#fff;overflow:hidden}.c-find-dealer__close{position:absolute;display:block;top:7px;right:14px;padding:10px;z-index:10}.c-find-dealer__close svg{display:block;width:16px;height:16px;fill:#666;-webkit-transition:.3s;transition:.3s}.c-find-dealer__close:hover svg{fill:#b7b7b7}.c-find-dealer__map{width:100%;height:100%;z-index:1}.c-find-dealer__fullscreen,.c-find-dealer__location,.c-find-dealer__zoomIn,.c-find-dealer__zoomOut{display:block;position:absolute;width:40px;height:40px;background-color:#fff;z-index:10;-webkit-transition:.3s;transition:.3s;cursor:pointer}.c-find-dealer__fullscreen:after,.c-find-dealer__fullscreen:before,.c-find-dealer__location:after,.c-find-dealer__location:before,.c-find-dealer__zoomIn:after,.c-find-dealer__zoomIn:before,.c-find-dealer__zoomOut:after,.c-find-dealer__zoomOut:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;background-color:#002c5f}.c-find-dealer__fullscreen:after,.c-find-dealer__location:after,.c-find-dealer__zoomIn:after,.c-find-dealer__zoomOut:after{width:16px;height:2px}.c-find-dealer__fullscreen:before,.c-find-dealer__location:before,.c-find-dealer__zoomIn:before,.c-find-dealer__zoomOut:before{height:16px;width:2px}.c-find-dealer__fullscreen:hover,.c-find-dealer__location:hover,.c-find-dealer__zoomIn:hover,.c-find-dealer__zoomOut:hover{opacity:.8}.c-find-dealer__cont{position:relative}.c-find-dealer__zoomIn{top:104px;right:24px}.c-find-dealer__zoomOut{top:160px;right:24px}.c-find-dealer__zoomOut:before{display:none}.c-find-dealer__fullscreen{bottom:80px;right:24px;background-image:url("/images/map/full_screen.png");background-repeat:no-repeat;background-position:50%;background-size:50%}.c-find-dealer__fullscreen:after,.c-find-dealer__fullscreen:before{display:none}.c-find-dealer__location{bottom:24px;right:24px;background-image:url("/images/map/Locate_button.png");background-repeat:no-repeat;background-position:50%;background-size:100%}.c-find-dealer__location svg{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.c-find-dealer__location:after,.c-find-dealer__location:before{display:none}.label{position:absolute;left:24px;bottom:24px;width:38rem;min-width:380px;background-color:#fff;color:#000;padding:24px;z-index:10}.label.special .label__title{background-color:#a36b4f;color:#fff;padding:4px 0;padding-left:8px;padding-right:24px}.label.special .label__title:after{content:"";display:block;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:0;width:0;height:0;border-top:20px solid transparent;border-right:10px solid #fff;border-bottom:20px solid transparent}.label.citystore .label__citystore,.label.star .label__star,.label.wa .label__wa{display:block}.label__close{position:absolute;display:block;top:14px;right:14px;padding:10px;z-index:10}.label__close svg{display:block;width:16px;height:16px;fill:#666;-webkit-transition:.3s;transition:.3s}.label__close:hover svg{fill:#b7b7b7}.label__top{-ms-flex-wrap:wrap;flex-wrap:wrap;padding-right:25px}.label__flags,.label__top{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:8px}.label__flags{width:100%}.label__star,.label__wa{display:none;-webkit-box-flex:0;-ms-flex:none;flex:none;margin-right:8px}.label__wa{width:31px}.label__citystore{display:none;-webkit-box-flex:0;-ms-flex:none;flex:none;width:20px;height:20px;border-radius:50%;background-color:#e4dcd3}.label__title{position:relative;display:inline-block;font-size:2rem;line-height:1.2;font-weight:500}.label__line{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.label__address{width:100%;margin-bottom:16px}.label__address,.label__phone{font-size:1.6rem;line-height:1.5;color:#666}.label__link{display:inline-block}.label__button{display:block;width:100%;margin-top:24px}.popup-enter-active{overflow:hidden;-webkit-animation:enter-popup .3s;animation:enter-popup .3s}.popup-enter-active .c-find-dealer__center{-webkit-animation:enter-center .5s;animation:enter-center .5s}.popup-leave-active{animation:enter-popup .3s reverse}.popup-leave-active .c-find-dealer__center{animation:enter-center .5s reverse}@media only screen and (max-width:1262px){.c-find-dealer__fullscreen,.c-find-dealer__location,.c-find-dealer__zoomIn,.c-find-dealer__zoomOut{width:48px;height:48px}}@media only screen and (max-width:767px){.c-find-dealer__center{margin:16px;height:536px}.c-find-dealer__zoomIn{top:72px;right:16px}.c-find-dealer__zoomOut{top:144px;right:16px}.c-find-dealer__fullscreen,.c-find-dealer__location{right:16px}.label{left:0;right:0;bottom:0;width:100%;min-width:100%;padding:16px}.label__close{right:6px}.label__top{display:block}.label__flags{margin-bottom:16px}.label__line,.label__phone{display:block}.label__phone{margin-bottom:4px}.label__button{padding-top:8px;padding-bottom:8px}}',""])},I9cP:function(e,t,i){var a=i("Tt0i");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("b711fabc",a,!0,{})},IXkw:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,".p-td__center{padding:40px 72px 48px;background-color:#fff;max-width:1144px;margin:0 auto}@media only screen and (max-width:767px){.p-td__center{padding:48px 16px 24px;margin:16px;background-color:#fff}}",""])},IvxV:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"service-form"},[i("h3",{staticClass:"service-form__title"},[e._v("Запись на сервис")]),e._v(" "),i("div",{staticClass:"service-form__left"},[i("div",{staticClass:"service-form__label"},[e._v("Автомобиль")]),e._v(" "),i("div",{staticClass:"service-form__dropdown df-select-bordered",class:{invalid:!e.validation.car}},[i("selectize",{attrs:{settings:e.settingsModel},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.data,function(t){return i("option",{domProps:{value:t.code}},[e._v(e._s(t.name))])}),0)],1),e._v(" "),i("div",{staticClass:"service-form__label service-form__label--dealer"},[e._v("Дилер")]),e._v(" "),i("div",{staticClass:"service-form__dropdown df-select-bordered",class:{invalid:!e.validation.city}},[i("selectize",{attrs:{settings:e.settingsCity},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.dealersCities,function(t){return i("option",{domProps:{value:t.city_id}},[e._v(e._s(t.city_name))])}),0)],1),e._v(" "),i("div",{staticClass:"service-form__dropdown df-select-bordered",class:{invalid:!e.validation.dealer}},[i("selectize",{attrs:{settings:e.settingsDealer},model:{value:e.dealer,callback:function(t){e.dealer=t},expression:"dealer"}},e._l(e.filteredDealers,function(t){return i("option",{domProps:{value:t.code}},[e._v(e._s(t.name))])}),0)],1),e._v(" "),i("div",{staticClass:"service-form__map"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openMap(t)}}},[i("svg",[i("use",{attrs:{"xlink:href":"#icon-map"}})]),e._v(" "),i("span",[e._v("Показать на карте")])])])]),e._v(" "),i("div",{staticClass:"service-form__right"},[i("div",{staticClass:"service-form__label"},[e._v("Ваши данные")]),e._v(" "),i("ul",{staticClass:"service-form__list"},[i("li",{staticClass:"service-form__item"},[i("label",{staticClass:"appeal"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.appeal,expression:"user.appeal"}],attrs:{type:"radio",value:"Mr.",name:"appeal",checked:""},domProps:{checked:e._q(e.user.appeal,"Mr.")},on:{change:function(t){e.$set(e.user,"appeal","Mr.")}}}),e._v(" "),i("div",{staticClass:"appeal__circle"}),e._v(" "),i("div",{staticClass:"appeal__description"},[e._v("Уважаемый")])])]),e._v(" "),i("li",{staticClass:"service-form__item"},[i("label",{staticClass:"appeal"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.appeal,expression:"user.appeal"}],attrs:{type:"radio",value:"Ms.",name:"appeal"},domProps:{checked:e._q(e.user.appeal,"Ms.")},on:{change:function(t){e.$set(e.user,"appeal","Ms.")}}}),e._v(" "),i("div",{staticClass:"appeal__circle"}),e._v(" "),i("div",{staticClass:"appeal__description"},[e._v("Уважаемая")])])])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.surname,expression:"user.surname"}],staticClass:"df-input-bordered service-form__input capitalize",class:{invalid:!e.validation.surname},attrs:{type:"text",name:"surname",id:"surname",placeholder:"Фамилия"},domProps:{value:e.user.surname},on:{blur:function(t){e.focusLost("surname")},input:function(t){t.target.composing||e.$set(e.user,"surname",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"df-input-bordered service-form__input capitalize",class:{invalid:!e.validation.name},attrs:{type:"text",name:"name",id:"name",placeholder:"Имя"},domProps:{value:e.user.name},on:{blur:function(t){e.focusLost("name")},input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"df-input-bordered service-form__input",class:{invalid:!e.validation.email},attrs:{type:"email",name:"email",id:"email",placeholder:"E-mail"},domProps:{value:e.user.email},on:{blur:function(t){e.focusLost("email")},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"mask",rawName:"v-mask",value:"+7(999)-999-99-99",expression:"'+7(999)-999-99-99'"},{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"df-input-bordered service-form__input",class:{invalid:!e.validation.phone},attrs:{type:"tel",name:"tel",id:"tel",placeholder:"Телефон"},domProps:{value:e.phone},on:{blur:function(t){e.focusLost("phone")},input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"service-form__footer"},[i("label",{staticClass:"service-form__accept"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.agreement,expression:"agreement"}],class:{invalid:!e.validation.agreement},attrs:{type:"checkbox",name:"accept",id:"accept"},domProps:{checked:Array.isArray(e.agreement)?e._i(e.agreement,null)>-1:e.agreement},on:{change:function(t){var i=e.agreement,a=t.target,o=!!a.checked;if(Array.isArray(i)){var n=e._i(i,null);a.checked?n<0&&(e.agreement=i.concat([null])):n>-1&&(e.agreement=i.slice(0,n).concat(i.slice(n+1)))}else e.agreement=o}}}),e._v(" "),i("div",{staticClass:"service-form__box"},[i("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M1 5.2L5 8L9 1",stroke:"#002C5F","stroke-width":"2"}})])]),e._v(" "),i("div",{staticClass:"service-form__description"},[e._v("Я согласен с "),i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openRules(t)}}},[e._v("правилами")]),e._v(" обработки персональных данных")])]),e._v(" "),i("button",{staticClass:"df-button service-form__button",attrs:{disabled:e.sending},on:{click:function(t){return t.preventDefault(),e.checkout(t)}}},[e._v(e._s(e.sending?"Отправка...":"Отправить заявку"))])])])},staticRenderFns:[]}},LBlk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("py5U"),o=i.n(a),n=i("mtWM"),s=i.n(n),r=i("NYxO"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.default={name:"SignUpServiceForm",components:{Selectize:o.a},props:[],data:function(){return{blur:{surname:!1,name:!1,email:!1,phone:!1},user:{surname:"",name:"",email:"",appeal:"Mr."},agreement:!1,process:!1,ps:[],settingsModel:{placeholder:"Выберите автомобиль",onDropdownOpen:this.psUpdate,openOnFocus:!1,onInitialize:function(){var e=this;this.$control.on("click",function(){e.opened||(e.open(),e.opened=!0)})},onDropdownClose:function(){var e=this;setTimeout(function(){e.opened=!1},300)}},settingsCity:{placeholder:"Выберите город",onDropdownOpen:this.psUpdate,openOnFocus:!1,onInitialize:function(){var e=this;this.$control.on("click",function(){e.opened||(e.open(),e.opened=!0)})},onDropdownClose:function(){var e=this;setTimeout(function(){e.opened=!1},300)}},settingsDealer:{placeholder:"Выберите дилера",onDropdownOpen:this.psUpdate,openOnFocus:!1,onInitialize:function(){var e=this;this.$control.on("click",function(){e.opened||(e.open(),e.opened=!0)})},onDropdownClose:function(){var e=this;setTimeout(function(){e.opened=!1},300)}},sending:!1}},computed:l({},Object(r.b)({dealersCities:"GET_DEALERS_CITIES",dealers:"GET_DEALERS",data:"GET_DATA",carId:"GET_CAR_ID"}),{validation:function(){return{car:""!==this.car||!this.process,dealer:""!==this.dealer||!this.process,city:""!==this.city||!this.process,email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.user.email)||!this.blur.email&&!this.process,name:""!==this.user.name.trim()||!this.blur.name&&!this.process,surname:""!==this.user.surname.trim()||!this.blur.surname&&!this.process,phone:""!==this.phone.trim()||!this.blur.phone&&!this.process,agreement:this.agreement||!this.process}},isValid:function(){var e=this.validation;return Object.keys(e).every(function(t){return e[t]})},model:{get:function(){return this.$store.state.car.code},set:function(e){e&&this.$store.dispatch("SET_MODEL",e)}},city:{get:function(){return this.$store.state.city},set:function(e){this.$store.dispatch("SET_CITY",e)}},dealer:{get:function(){return this.$store.state.dealer},set:function(e){e&&this.$store.dispatch("SET_DEALER",e)}},phone:{get:function(){return this.$store.state.user.phone},set:function(e){e&&this.$store.dispatch("SET_USER_PHONE",e)}},filteredDealers:function(){var e=this,t=[];return""===this.city?this.dealers:(this.dealers.forEach(function(i){i.city_id===e.city&&t.push(i)}),t)}}),methods:{openRules:function(){this.$emit("open-rules")},focusLost:function(e){this.blur[e]=!0},openMap:function(){this.$store.dispatch("OPEN_FIND_DEALER",!0)},checkout:function(){var e=this;this.process=!0,this.isValid?(this.sending=!0,s.a.get(this.$store.state.API.SERVICE_FORM,{params:{modelId:this.carId,modelCode:this.model,dealer:this.dealer,salutation:this.user.appeal,name:this.user.name,sirname:this.user.surname,email:this.user.email,phone:this.phone}}).then(function(t){if(1!==t.data.status)throw new Error("Ошибка");e.$emit("open-success"),e.sending=!1,dataLayer.push({event:"custom_event",category:"Сервис",action:"Отправка заявки",label:e.model})}).catch(function(t){e.$root.$emit("notify",{type:"error",text:"Ошибка отправки формы, повторите попытку позднее"}),console.log(t),e.sending=!1})):0===$(".service-form").closest(".df-popup").length?setTimeout(function(){"checkbox"!==$(".invalid").eq(0)[0].type&&$("html, body").animate({scrollTop:$(".invalid").eq(0).offset().top-200},500)},300):setTimeout(function(){"checkbox"!==$(".invalid").eq(0)[0].type&&$(".df-popup").animate({scrollTop:$(".invalid").eq(0).position().top-200},500)},300)},psUpdate:function(){this.ps.forEach(function(e){e=e;setTimeout(function(){e.update()})})}},filters:{},mounted:function(){var e=this;this.$nextTick(function(){$(".selectize-control .selectize-dropdown-content").each(function(){var t=new PerfectScrollbar(this,{wheelSpeed:1,minScrollbarLength:20});e.ps.push(t)})})},watch:{}}},S89H:function(e,t,i){var a=i("/Vu4");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("7294ed9d",a,!0,{})},Tt0i:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,'.service-form{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;background-color:#fff;color:#000}.service-form__title{width:55%;margin:0 auto;text-align:center;margin-bottom:48px}.service-form__left,.service-form__right{width:50%}.service-form__left{padding-right:16px}.service-form__right{padding-left:16px}.service-form__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;margin-top:50px}.service-form__label{font-weight:500;margin:0;font-size:2rem;line-height:1.2;margin-bottom:32px}.service-form__label--dealer{margin-top:42px}.service-form__dropdown,.service-form__input{margin-bottom:24px;-webkit-transition:.3s;transition:.3s}.service-form__map{text-align:right;margin-top:-8px}.service-form__map a{display:inline-block;position:relative;font-weight:500;font-size:1.2rem;line-height:1.5;padding-left:24px;color:#002c5f}.service-form__map a,.service-form__map a span,.service-form__map a svg{-webkit-transition:.3s;transition:.3s}.service-form__map a svg{display:block;position:absolute;width:16px;height:15px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:0;stroke:#002c5f}.service-form__map a:hover span{opacity:.8}.service-form__map a:hover svg{stroke:#00aad2}.service-form__accept{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.service-form__accept input{display:none}.service-form__accept input:checked+.service-form__box svg{-webkit-transform:scale(1);transform:scale(1)}.service-form__accept input.invalid+.service-form__box{border-color:#c70e0e}.service-form__box{position:relative;-webkit-box-flex:0;-ms-flex:none;flex:none;width:24px;height:24px;border:1px solid #e4dcd3;margin-right:16px;cursor:pointer;-webkit-transition:.3s;transition:.3s}.service-form__box svg{display:block;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:.3s;transition:.3s}.service-form__description{font-size:1.4rem;line-height:1.14}.service-form__description a{color:#00aad2}.service-form__list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:36px}.service-form__item:not(:last-of-type){margin-right:36px}.appeal{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;margin:0}.appeal input{display:none}.appeal input:checked+.appeal__circle:after{-webkit-transform:scale(1);transform:scale(1)}.appeal__circle{position:relative;width:24px;height:24px;border:1px solid #e4dcd3;border-radius:50%;cursor:pointer;margin-right:16px}.appeal__circle:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:12px;height:12px;border-radius:50%;background-color:#103a71;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:.3s;transition:.3s}.appeal__description{font-size:1.6rem;line-height:1.5}@media only screen and (max-width:1262px){.service-form{display:block}.service-form__title{width:100%;margin-bottom:53px}.service-form__left,.service-form__right{width:100%;padding:0}.service-form__right{padding-top:20px}.service-form__footer{display:block;margin-top:0}.service-form__button{margin-top:40px;width:100%;text-align:center}}@media only screen and (max-width:767px){.service-form__title{margin-bottom:33px}.service-form__label{font-size:16px;margin-bottom:20px}.service-form__label--dealer{margin-top:32px}.service-form__item:not(:last-of-type){margin-right:11px}.service-form__list{margin-bottom:32px}.appeal__circle{margin-right:6px}}',""])},TwH4:function(e,t,i){var a=i("G1eo");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("250e46ef",a,!0,{})},WKtw:function(e,t,i){var a=i("IXkw");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("fe6b1754",a,!0,{})},"b/D/":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"signupform"}},["service"===e.form?i("sign-up-service-form",{attrs:{page:e.page},on:{"open-rules":function(t){e.openRules=!0},"open-success":function(t){e.openSuccess=!0}}}):e._e(),e._v(" "),"test-drive"===e.form?i("sign-up-test-drive-form",{attrs:{page:e.page},on:{"set-i30n":e.setI30n,"open-rules":function(t){e.openRules=!0},"open-success":function(t){e.openSuccess=!0}}}):e._e(),e._v(" "),e.inMap?i("find-dealer",{attrs:{city:e.city,dealer:e.dealer,isOpened:e.openFindDealer,i30n:e.i30n},on:{"city-detected":e.setCityFromMap,"dealer-selected":e.selectDealerFromMap,"close-this":e.closeFindDealer}}):e._e(),e._v(" "),i("rules",{attrs:{isOpened:e.openRules},on:{close:function(t){e.openRules=!1}}}),e._v(" "),i("sent-successfully",{attrs:{"phone-number":e.phoneNumber,isOpened:e.openSuccess},on:{"close-this":e.closeSuccess}}),e._v(" "),i("notifier")],1)},staticRenderFns:[]}},ePls:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"td-form"},[i("h3",{staticClass:"td-form__title"},[e._v("Тест-драйв автомобилей Hyundai")]),e._v(" "),i("div",{staticClass:"td-form__left"},[i("div",{staticClass:"td-form__label"},[e._v("Автомобиль")]),e._v(" "),void 0===e.page||"isStartPage"!==e.page?[i("div",{staticClass:"td-form__dropdown df-select-bordered",class:{invalid:!e.validation.car}},[i("selectize",{attrs:{settings:e.settingsModel},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.data,function(t){return i("option",{domProps:{value:t.code}},[e._v(e._s(t.name))])}),0)],1),e._v(" "),i("div",{staticClass:"td-form__img"},[i("img",{attrs:{src:e.carImg,alt:""}})])]:e._e(),e._v(" "),"isStartPage"===e.page?[i("div",{staticClass:"td-form__label"},[e._v(e._s(e.carName))]),e._v(" "),i("div",{staticClass:"td-form__img"},[i("img",{attrs:{src:e.activeColorObj.carImage,alt:""}})])]:e._e(),e._v(" "),void 0!==e.carLink?i("div",{staticClass:"td-form__info"},[i("a",{staticClass:"df-iconed-link",attrs:{href:e.carLink}},[e._v("\n\t\t\t\tОписание модели\n\t\t\t\t"),i("svg",[i("use",{attrs:{"xlink:href":"#arrow-link"}})])])]):e._e()],2),e._v(" "),i("div",{staticClass:"td-form__center"},[i("div",{staticClass:"td-form__label"},[e._v("Выбор дилера")]),e._v(" "),i("div",{staticClass:"td-form__dropdown df-select-bordered",class:{invalid:!e.validation.city}},[i("selectize",{attrs:{settings:e.settingsCity},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.proxyDealersCities,function(t){return i("option",{domProps:{value:t.city_id}},[e._v(e._s(t.city_name))])}),0)],1),e._v(" "),i("div",{staticClass:"td-form__dropdown df-select-bordered",class:{invalid:!e.validation.dealer}},[i("selectize",{attrs:{settings:e.settingsDealer},model:{value:e.dealer,callback:function(t){e.dealer=t},expression:"dealer"}},e._l(e.filteredDealers,function(t){return i("option",{domProps:{value:t.code}},[e._v(e._s(t.name))])}),0)],1),e._v(" "),i("div",{staticClass:"td-form__map"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openMap(t)}}},[i("svg",[i("use",{attrs:{"xlink:href":"#icon-map"}})]),e._v(" "),i("span",[e._v("Показать на карте")])])])]),e._v(" "),i("div",{staticClass:"td-form__right"},[i("div",{staticClass:"td-form__label"},[e._v("Ваши данные")]),e._v(" "),i("ul",{staticClass:"td-form__list"},[i("li",{staticClass:"td-form__item"},[i("label",{staticClass:"appeal"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.appeal,expression:"user.appeal"}],attrs:{type:"radio",value:"Mr.",name:"appeal",checked:""},domProps:{checked:e._q(e.user.appeal,"Mr.")},on:{change:function(t){e.$set(e.user,"appeal","Mr.")}}}),e._v(" "),i("div",{staticClass:"appeal__circle"}),e._v(" "),i("div",{staticClass:"appeal__description"},[e._v("Уважаемый")])])]),e._v(" "),i("li",{staticClass:"td-form__item"},[i("label",{staticClass:"appeal"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.appeal,expression:"user.appeal"}],attrs:{type:"radio",value:"Ms.",name:"appeal"},domProps:{checked:e._q(e.user.appeal,"Ms.")},on:{change:function(t){e.$set(e.user,"appeal","Ms.")}}}),e._v(" "),i("div",{staticClass:"appeal__circle"}),e._v(" "),i("div",{staticClass:"appeal__description"},[e._v("Уважаемая")])])])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"df-input-bordered td-form__input capitalize",class:{invalid:!e.validation.name},attrs:{type:"text",name:"name",id:"name",placeholder:"Имя"},domProps:{value:e.user.name},on:{blur:function(t){e.focusLost("name")},input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.surname,expression:"user.surname"}],staticClass:"df-input-bordered td-form__input capitalize",class:{invalid:!e.validation.surname},attrs:{type:"text",name:"surname",id:"surname",placeholder:"Фамилия"},domProps:{value:e.user.surname},on:{blur:function(t){e.focusLost("surname")},input:function(t){t.target.composing||e.$set(e.user,"surname",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"mask",rawName:"v-mask",value:"+7(999)-999-99-99",expression:"'+7(999)-999-99-99'"},{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"df-input-bordered td-form__input",class:{invalid:!e.validation.phone},attrs:{type:"tel",name:"tel",id:"tel",placeholder:"Телефон"},domProps:{value:e.phone},on:{blur:function(t){e.focusLost("phone")},input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"df-input-bordered td-form__input",class:{invalid:!e.validation.email},attrs:{type:"email",name:"email",id:"email",placeholder:"E-mail"},domProps:{value:e.user.email},on:{blur:function(t){e.focusLost("email")},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"td-form__footer"},[i("label",{staticClass:"td-form__accept"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.agreement,expression:"agreement"}],class:{invalid:!e.validation.agreement},attrs:{type:"checkbox",name:"accept",id:"accept"},domProps:{checked:Array.isArray(e.agreement)?e._i(e.agreement,null)>-1:e.agreement},on:{change:function(t){var i=e.agreement,a=t.target,o=!!a.checked;if(Array.isArray(i)){var n=e._i(i,null);a.checked?n<0&&(e.agreement=i.concat([null])):n>-1&&(e.agreement=i.slice(0,n).concat(i.slice(n+1)))}else e.agreement=o}}}),e._v(" "),i("div",{staticClass:"td-form__box"},[i("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M1 5.2L5 8L9 1",stroke:"#002C5F","stroke-width":"2"}})])]),e._v(" "),i("div",{staticClass:"td-form__description"},[e._v("Я согласен с "),i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openRules(t)}}},[e._v("правилами")]),e._v(" обработки персональных данных")])]),e._v(" "),i("button",{staticClass:"df-button td-form__button",attrs:{disabled:e.sending},on:{click:function(t){return t.preventDefault(),e.checkout(t)}}},[e._v(e._s(e.sending?"Отправка...":"Отправить заявку"))])])])},staticRenderFns:[]}},ghfl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SentSuccessfully",components:{},props:["isOpened","phoneNumber"],data:function(){return{closeTimeOut:5e3}},computed:{phone:function(){return this.phoneNumber?this.phoneNumber:""}},methods:{closeSuccess:function(){this.$emit("close-this")}},filters:{},mounted:function(){},watch:{isOpened:function(){var e=this;this.isOpened&&setTimeout(function(){e.$emit("close-this")},e.closeTimeOut)}}}},gl2g:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"",""])},hgsc:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,".success__center{position:relative;width:40%;min-width:592px;padding:40px 72px;padding-bottom:64px;background-color:#fff}.success__title{text-align:center;margin-bottom:40px}.success__icon{position:relative;width:10.4rem;height:10.4rem;border-radius:50%;background-color:#e4dcd3;margin:0 auto;margin-bottom:24px}.success__icon svg{display:block;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.success__text{font-size:1.6rem;line-height:1.5;text-align:center}.success__text span{color:#00aad2;white-space:nowrap}@media only screen and (max-width:767px){.success__center{min-width:0;width:auto;margin:16px;padding:48px 16px 40px}.success__title{margin-bottom:24px}.success__icon{margin-bottom:16px}}",""])},ikZu:function(e,t,i){var a=i("VU/8")(i("ghfl"),i("70+0"),function(e){i("rOVg")},null,null);e.exports=a.exports},l3Yh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mtWM"),o=i.n(a),n=i("Ze5Q"),s=(i.n(n),i("dwwU"));t.default={name:"FindDealer",components:{},props:["isOpened","city","dealer","isFindDealerPage","disableScroll","fullscreenControl","i30n"],data:function(){return{id:0,ready:!1,myMap:null,objectManager:null,dealers:[],points:[],label:{title:"",address:"",phone:"",encode_phone:"",site:"",dealerId:"",special:"",rating:"",wa:"",citystore:""},dealerCode:"",labelOpened:!1,currentZoom:10,defaultCity:!1,currentLocation:{lat:0,lng:0}}},computed:{},methods:{closeDealer:function(){this.labelOpened=!1,this.$emit("close-this")},getData:function(){var e=this,t=this;o.a.get(s.a.API.DEALERS_LIST).then(function(e){t.dealers=e.data,t.ready=!0,t.dealers.forEach(function(e){var i;e.latitude&&e.longitude&&(i="C40AF11027"===e.code?"/images/map/PointCityStore.png":"1"===e.special?"/images/map/PointSpecial.png":"/images/map/Point.png",t.points.push({type:"Feature",id:e.id,geometry:{type:"Point",coordinates:[+e.latitude,+e.longitude]},options:{iconLayout:"default#image",iconImageHref:i,iconImageSize:[32,40]},properties:{city:e.city_name,cityId:e.city_id,dealerCode:e.code,i30n:e.i30n,defaultIcon:i}}))}),t.objectManager.add(t.points),t.objectManager.objects.events.add("click",function(e){var i=e.get("objectId");t.points.forEach(function(e){t.objectManager.objects.setObjectOptions(e.id,{iconImageHref:e.properties.defaultIcon})}),t.objectManager.objects.setObjectOptions(i,{iconImageHref:"/images/map/PointSelected.png"}),t.dealers.forEach(function(e){e.id===i&&(t.label.title=e.name,t.label.address=e.address,t.label.phone=e.phone,t.label.encode_phone=e.encode_phone,t.label.site=e.site,t.label.dealerId=e.id,t.dealerCode=e.code,t.label.special=e.special,t.label.rating=e.rating,t.label.wa=e.wa,t.label.citystore=e.code)}),t.labelOpened=!0}),t.setCity()}).catch(function(t){e.$root.$emit("notify",{type:"error",text:"Ошибка загрузки данных, повторите попытку позднее"})})},checkout:function(){this.$emit("dealer-selected",this.dealerCode),this.closeDealer()},geolocation:function(){var e=this;return new Promise(function(t){var i=e,a={};navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){a.lat=e.coords.latitude,a.lng=e.coords.longitude,i.currentLocation=a,i.defaultCity=!1,t(a)},function(e){i.defaultCity=!0,t(!1)}):(i.defaultCity=!0,t(!1))})},setCity:function(e){var t=this;if(this.city&&!this.dealer)if(this.i30n)var i=t.objectManager.setFilter(function(e){return t.city===e.properties.cityId&&"1"==e.properties.i30n}).getBounds();else i=t.objectManager.setFilter(function(e){return t.city===e.properties.cityId}).getBounds();else if(!this.defaultCity||this.dealer||this.city){if(!this.defaultCity&&!this.dealer&&!this.city){var a,o=ymaps.geoQuery(this.objectManager.objects).getClosestTo([this.currentLocation.lat,this.currentLocation.lng]);if(a=o.properties.get("cityId"),this.$emit("city-detected",a),a)i=t.objectManager.setFilter(function(e){return a===e.properties.city}).getBounds()}}else{var i=t.objectManager.setFilter(function(e){return"1"===e.properties.cityId}).getBounds();this.$emit("city-detected","1")}this.drawMap(i)},setDealer:function(){if(this.dealer){var e=this,t=e.objectManager.setFilter(function(t){return e.dealer===t.properties.dealerCode}).getBounds();this.drawMap(t)}},setI30n:function(){var e=this.objectManager.setFilter(function(e){return"1"==e.properties.i30n}).getBounds();this.drawMap(e)},drawMap:function(e){var t=this;e&&this.myMap.setBounds(e,{checkZoomRange:!0,duration:500}).then(function(){t.myMap.getZoom()>14&&t.myMap.setZoom(14)}),this.i30n?this.objectManager.setFilter(function(e){return"1"==e.properties.i30n}):this.objectManager.setFilter(function(e){return!0})},zoomIn:function(){var e=this.myMap.getZoom();e<=18&&this.myMap.setZoom(e+1,{duration:500})},zoomOut:function(){var e=this.myMap.getZoom();e>1&&this.myMap.setZoom(e-1,{duration:500})},whereIAm:function(){this.currentLocation&&this.myMap.panTo([this.currentLocation.lat,this.currentLocation.lng])},onEnter:function(){this.$root.$emit("fixOverflow",!0)},onLeave:function(){this.$root.$emit("fixOverflow",!1)}},filters:{},mounted:function(){var e=this;this.id=Date.now(),this.$nextTick(function(){var t=[55.76,37.64];function i(){if(e.myMap=new ymaps.Map(e.$refs[e.id],{center:t,controls:[],zoom:e.currentZoom},{suppressMapOpenBlock:!0}),e.disableScroll&&e.myMap.behaviors.disable("scrollZoom"),e.objectManager=new ymaps.ObjectManager,e.myMap.geoObjects.add(e.objectManager),e.fullscreenControl){var i=ymaps.templateLayoutFactory.createClass("<div class='c-find-dealer__cont'><div id='full' class='c-find-dealer__fullscreen'></div></div>",{}),a=new ymaps.control.FullscreenControl({options:{layout:i}});e.myMap.controls.add(a,{float:"none",position:{right:"0px",bottom:"0px"}})}var o=ymaps.templateLayoutFactory.createClass("<div class='c-find-dealer__cont'><div id='zoom-in' class='c-find-dealer__zoomIn'></div><div id='zoom-out' class='c-find-dealer__zoomOut'></div></div>",{build:function(){o.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),$("#zoom-in").bind("click",this.zoomInCallback),$("#zoom-out").bind("click",this.zoomOutCallback)},clear:function(){$("#zoom-in").unbind("click",this.zoomInCallback),$("#zoom-out").unbind("click",this.zoomOutCallback),o.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}}),n=ymaps.templateLayoutFactory.createClass("<div class='c-find-dealer__cont'><div id='location' class='c-find-dealer__location'></div></div>",{build:function(){n.superclass.build.call(this),this.locationCallback=ymaps.util.bind(this.location,this),$("#location").bind("click",this.locationCallback)},clear:function(){$("#location").unbind("click",this.locationCallback),n.superclass.clear.call(this)},location:function(){e.currentLocation&&e.myMap.panTo([e.currentLocation.lat,e.currentLocation.lng])}}),s=new ymaps.control.ZoomControl({options:{layout:o}}),r=new ymaps.control.ZoomControl({options:{layout:n}});e.myMap.controls.add(s,{float:"none",position:{right:"0px",top:"0px"}}),e.myMap.controls.add(r,{float:"none",position:{right:"0px",bottom:"0px"}}),e.getData()}e.geolocation().then(function(e){e&&(t[0]=e.lat,t[1]=e.lng),ymaps.ready(i)})})},watch:{city:function(){this.city&&this.setCity()},isOpened:function(){var e=this,t=this;function i(){this.dealer||this.city||!this.i30n?(this.myMap.container.fitToViewport(),this.setCity(),this.setDealer()):this.setI30n()}this.isOpened&&this.ready?setTimeout(i.bind(this),500):this.isOpened&&new Promise(function(e,i){var a=0;Object(n.setInterval)(function(){t.ready&&e(),a>20&&i(),a++},500)}).then(function(){setTimeout(i.bind(e),500)},function(){e.$root.$emit("notify",{type:"error",text:"Ошибка загрузки данных, повторите попытку позднее"})})}}}},"l5+B":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("4ZOK"),o=i.n(a),n=i("p07W"),s=i.n(n),r=i("wRWZ"),l=i.n(r),c=i("Apw7"),d=i.n(c),p=i("ikZu"),u=i.n(p),m=i("fQ+X"),f=i.n(m),_=i("NYxO"),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.default={name:"signupforms",components:{SignUpServiceForm:o.a,SignUpTestDriveForm:s.a,FindDealer:l.a,Rules:d.a,SentSuccessfully:u.a,Notifier:f.a},props:["form","includeMap","page","noDefaultCar"],data:function(){return{i30n:!1,openRules:!1,openSuccess:!1}},computed:h({},Object(_.b)({openFindDealer:"OPEN_FIND_DEALER",city:"GET_CITY",dealer:"GET_DEALER",phoneNumber:"GET_USER_PHONE"}),{inMap:function(){return void 0===this.includeMap||this.includeMap}}),methods:{closeFindDealer:function(){this.$store.dispatch("OPEN_FIND_DEALER",!1)},selectDealerFromMap:function(e){this.$store.dispatch("SET_DEALER",e)},setCityFromMap:function(e){this.$store.dispatch("SET_CITY",e)},closeSuccess:function(){this.openSuccess=!1},setI30n:function(e){this.i30n=e}},filters:{},mounted:function(){var e=this;if(this.$store.dispatch("GET_DEALERS").catch(function(t){console.log(t),e.$root.$emit("notify",{type:"error",text:"Ошибка загрузки данных, повторите попытку позднее"})}),this.noDefaultCar)var t="noDefaultCar";this.$store.dispatch("GET_DATA",t).then(function(){"undefined"!=typeof commonCarCode&&e.$store.dispatch("SET_MODEL",commonCarCode)}).catch(function(t){console.log(t),e.$root.$emit("notify",{type:"error",text:"Ошибка загрузки данных, повторите попытку позднее"})})},watch:{}}},nwK6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("py5U"),o=i.n(a),n=i("mtWM"),s=i.n(n),r=i("NYxO"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};t.default={name:"SignUpTestDriveForm",components:{Selectize:o.a},props:["page"],data:function(){return{blur:{surname:!1,name:!1,email:!1,phone:!1},user:{appeal:"Mr.",surname:"",name:"",email:""},agreement:!1,process:!1,ps:[],settingsModel:{placeholder:"Выберите автомобиль",onDropdownOpen:this.psUpdate,openOnFocus:!1,onInitialize:function(){var e=this;this.$control.on("click",function(){e.opened||(e.open(),e.opened=!0)})},onDropdownClose:function(){var e=this;setTimeout(function(){e.opened=!1},300)}},settingsCity:{placeholder:"Выберите город",onDropdownOpen:this.psUpdate,openOnFocus:!1,onInitialize:function(){var e=this;this.$control.on("click",function(){e.opened||(e.open(),e.opened=!0)})},onDropdownClose:function(){var e=this;setTimeout(function(){e.opened=!1},300)}},settingsDealer:{placeholder:"Выберите дилера",onDropdownOpen:this.psUpdate,openOnFocus:!1,onInitialize:function(){var e=this;this.$control.on("click",function(){e.opened||(e.open(),e.opened=!0)})},onDropdownClose:function(){var e=this;setTimeout(function(){e.opened=!1},300)}},i30nDealers:[],i30nDealerCities:[],sending:!1}},computed:l({},Object(r.b)({dealersCities:"GET_DEALERS_CITIES",dealers:"GET_DEALERS",data:"GET_DATA",carName:"GET_CAR_NAME",carId:"GET_CAR_ID",carImg:"GET_CAR_IMG",carLink:"GET_CAR_LINK",complectation:"GET_START_COMPLECTATION",modification:"GET_START_MODIFICATION",currentTerm:"GET_START_CURRENT_TERM",cityName:"GET_CITY_NAME",activeColorObj:"GET_START_ACTIVE_COLOR_OBJ"}),{validation:function(){return{car:""!==this.car||!this.process,dealer:""!==this.dealer||!this.process,city:""!==this.city||!this.process,email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.user.email)||!this.blur.email&&!this.process,name:""!==this.user.name.trim()||!this.blur.name&&!this.process,surname:""!==this.user.surname.trim()||!this.blur.surname&&!this.process,phone:""!==this.phone.trim()||!this.blur.phone&&!this.process,agreement:this.agreement||!this.process}},isValid:function(){var e=this.validation;return Object.keys(e).every(function(t){return e[t]})},model:{get:function(){return this.$store.state.car.code},set:function(e){e&&this.$store.dispatch("SET_MODEL",e)}},city:{get:function(){return this.$store.state.city},set:function(e){this.$store.dispatch("SET_CITY",e)}},dealer:{get:function(){return this.$store.state.dealer},set:function(e){e&&this.$store.dispatch("SET_DEALER",e)}},phone:{get:function(){return this.$store.state.user.phone},set:function(e){e&&this.$store.dispatch("SET_USER_PHONE",e)}},filteredDealers:function(){var e=this,t=[];return""===this.city?this.proxyDealers:(this.proxyDealers.forEach(function(i){i.city_id===e.city&&t.push(i)}),t)},proxyDealers:function(){return this.i30nDealers.length?this.i30nDealers:this.dealers},proxyDealersCities:function(){return this.i30nDealerCities.length?this.i30nDealerCities:this.dealersCities}}),methods:{openRules:function(){this.$emit("open-rules")},focusLost:function(e){this.blur[e]=!0},openMap:function(){this.$store.dispatch("OPEN_FIND_DEALER",!0)},checkout:function(){var e=this;this.process=!0,this.isValid?(this.sending=!0,void 0===this.page||"isStartPage"!==this.page?s.a.get(this.$store.state.API.TD_FORM,{params:{modelId:this.carId,modelCode:this.model,dealer:this.dealer,salutation:this.user.appeal,name:this.user.name,sirname:this.user.surname,email:this.user.email,phone:this.phone}}).then(function(t){if(1!==t.data.status)throw new Error("Ошибка");e.$emit("open-success"),e.sending=!1,"isModelPage"===e.page&&dataLayer.push({event:"custom_event",category:"Страница модели "+e.model,action:"Отправка заявки на тест-драйв",label:"Отправка заявки из модального окна"}),"isTestDrivePage"===e.page&&dataLayer.push({event:"custom_event",category:"Тест-драйв",action:"Отправка заявки",label:e.model}),"isConfiguratorPage"===e.page&&dataLayer.push({event:"custom_event",category:"Конфигуратор",action:"Запись на тест-драйв",label:e.model})}).catch(function(t){e.$root.$emit("notify",{type:"error",text:"Ошибка отправки формы, повторите попытку позднее"}),console.log(t),e.sending=!1}):"isStartPage"===this.page&&s.a.get(this.$store.state.API.TD_FORM,{params:{city:this.cityName,dealer:this.dealer,email:this.user.email,from_url:document.location.href,modelCode:this.carName,name:this.user.name,sirname:this.user.surname,phone:this.phone,salutation:this.user.appeal}}).then(function(t){if(console.log(t),1!==t.data.status)throw new Error("Ошибка");e.$emit("open-success"),e.sending=!1,dataLayer.push({event:"custom_event",category:"Страница программы start",action:"Запись на тест-драйв",label:e.model})}).catch(function(t){e.$root.$emit("notify",{type:"error",text:"Ошибка отправки формы, повторите попытку позднее"}),console.log(t),e.sending=!1})):0===$(".td-form").closest(".df-popup").length?setTimeout(function(){"checkbox"!==$(".invalid").eq(0)[0].type&&$("html, body").animate({scrollTop:$(".invalid").eq(0).offset().top-200},500)},300):setTimeout(function(){"checkbox"!==$(".invalid").eq(0)[0].type&&$(".df-popup").animate({scrollTop:$(".invalid").eq(0).position().top-200},500)},300)},psUpdate:function(){this.ps.forEach(function(e){e=e;setTimeout(function(){e.update()})})}},filters:{},mounted:function(){var e=this;this.$nextTick(function(){$(".selectize-control .selectize-dropdown-content").each(function(){var t=new PerfectScrollbar(this,{wheelSpeed:1,minScrollbarLength:20});e.ps.push(t)})})},watch:{model:function(){if("i30n"===this.model){var e=[];this.i30nDealers=this.dealers.filter(function(e){return"1"==e.i30n}),this.i30nDealers.forEach(function(t){e.some(function(e){return t.city_id==e.city_id})||e.push({city_id:t.city_id,city_name:t.city_name})}),this.i30nDealerCities=e,this.$emit("set-i30n",!0)}else this.i30nDealers=[],this.i30nDealerCities=[],this.$emit("set-i30n",!1)}}}},"o+ZU":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"popup"},on:{enter:e.onEnter,leave:e.onLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"p-td df-popup"},[i("div",{staticClass:"df-popup__wrap",on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.closeThis(t)}}},[i("div",{staticClass:"p-td__center df-popup__center"},[i("a",{staticClass:"p-td__close df-popup__close",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.closeThis(t)}}},[i("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{attrs:{y:"14.5454",width:"20.5702",height:"2.05702",transform:"rotate(-45 0 14.5454)"}}),e._v(" "),i("rect",{attrs:{x:"1.45459",width:"20.5702",height:"2.05702",transform:"rotate(45 1.45459 0)"}})])]),e._v(" "),i("sign-up-forms",{attrs:{noDefaultCar:e.noDefaultCar,form:"test-drive",page:e.page}})],1)])])])},staticRenderFns:[]}},p07W:function(e,t,i){var a=i("VU/8")(i("nwK6"),i("ePls"),function(e){i("S89H")},null,null);e.exports=a.exports},rOVg:function(e,t,i){var a=i("hgsc");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("cf8209b4",a,!0,{})},ut8H:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"popup"},on:{enter:e.onEnter,leave:e.onLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpened,expression:"isOpened"}],staticClass:"c-find-dealer"},[i("div",{staticClass:"c-find-dealer__wrap",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeDealer(t)}}},[i("div",{staticClass:"c-find-dealer__center"},[i("a",{staticClass:"c-find-dealer__close",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.closeDealer(t)}}},[i("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{attrs:{y:"14.5454",width:"20.5702",height:"2.05702",transform:"rotate(-45 0 14.5454)"}}),e._v(" "),i("rect",{attrs:{x:"1.45459",width:"20.5702",height:"2.05702",transform:"rotate(45 1.45459 0)"}})])]),e._v(" "),i("div",{ref:e.id,staticClass:"c-find-dealer__map",attrs:{id:"c-find-dealer-map"}}),e._v(" "),i("transition",{attrs:{"enter-active-class":"animated fadeInUp faster"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.labelOpened,expression:"labelOpened"}],staticClass:"label",class:{special:"1"===e.label.special,wa:"1"===e.label.wa,star:"1"===e.label.rating,citystore:"C40AF11027"===e.label.citystore}},[i("a",{staticClass:"label__close",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.labelOpened=!1}}},[i("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("rect",{attrs:{y:"14.5454",width:"20.5702",height:"2.05702",transform:"rotate(-45 0 14.5454)"}}),e._v(" "),i("rect",{attrs:{x:"1.45459",width:"20.5702",height:"2.05702",transform:"rotate(45 1.45459 0)"}})])]),e._v(" "),i("div",{staticClass:"label__top"},["1"===e.label.rating||"1"===e.label.wa||"C40AF11027"===e.label.citystore?i("div",{staticClass:"label__flags"},[i("div",{staticClass:"label__star"},[i("svg",{attrs:{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M12 0L15.174 7.63131L23.4127 8.2918L17.1357 13.6687L19.0534 21.7082L12 17.4L4.94658 21.7082L6.8643 13.6687L0.587322 8.2918L8.82596 7.63131L12 0Z",fill:"#A36B4F"}})])]),e._v(" "),i("div",{staticClass:"label__wa"},[i("img",{attrs:{src:"/images/icons/wa.png",alt:"WA"}})]),e._v(" "),i("div",{staticClass:"label__citystore"})]):e._e(),e._v(" "),i("div",{staticClass:"label__title"},[e._v(e._s(e.label.title))])]),e._v(" "),i("div",{staticClass:"label__address"},[e._v(e._s(e.label.address))]),e._v(" "),i("div",{staticClass:"label__line"},[i("a",{staticClass:"label__phone",attrs:{href:"tel:"+e.label.phone}},[e._v(e._s(e.label.phone))]),e._v(" "),i("a",{staticClass:"df-iconed-link df-iconed-link--small label__link",attrs:{href:e.label.site}},[e._v("\n\t\t\t\t\t\t\t\tПерейти на сайт\n\t\t\t\t\t\t\t\t"),i("svg",[i("use",{attrs:{"xlink:href":"#arrow-link"}})])])]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:"C40AF11027"!==e.dealerCode&&!e.isFindDealerPage,expression:"dealerCode !== 'C40AF11027' && !isFindDealerPage"}],staticClass:"df-button label__button",on:{click:function(t){return t.preventDefault(),e.checkout(t)}}},[e._v("Выбрать дилера")]),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:"C40AF11027"!==e.dealerCode&&e.isFindDealerPage,expression:"dealerCode !== 'C40AF11027' && isFindDealerPage"}],staticClass:"df-button label__button",attrs:{href:"/test-drive?id="+e.label.dealerId}},[e._v("Тест-драйв")])])])],1)])])])},staticRenderFns:[]}},wRWZ:function(e,t,i){var a=i("VU/8")(i("l3Yh"),i("ut8H"),function(e){i("TwH4")},null,null);e.exports=a.exports},zNCg:function(e,t,i){var a=i("VU/8")(i("5fxu"),i("o+ZU"),function(e){i("WKtw")},null,null);e.exports=a.exports}});